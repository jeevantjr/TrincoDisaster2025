<!DOCTYPE html>
<html lang="en">
<head>
Â  Â  <meta charset="UTF-8">
Â  Â  <meta name="viewport" content="width=device-width, initial-scale=1.0">
Â  Â  <title>Trincomalee Disaster Response Dashboard</title>
Â  Â  <script src="https://cdn.tailwindcss.com"></script>
Â  Â  <script>
Â  Â  Â  Â  tailwind.config = {
Â  Â  Â  Â  Â  Â  theme: {
Â  Â  Â  Â  Â  Â  Â  Â  extend: {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  fontFamily: {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  sans: ['Inter', 'sans-serif'],
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  colors: {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  'primary': '#059669', // Emerald Green
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  'secondary': '#1d4ed8', // Blue
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  'accent': '#f59e0b', // Amber
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  'vulnerable-infants': '#38bdf8', // Sky Blue
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  'vulnerable-under5': '#0ea5e9', // Light Blue
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  'vulnerable-pregnant': '#ec4899', // Pink
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  'background-light': '#f9fafb',
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }
Â  Â  </script>
Â  Â  <style>
Â  Â  Â  Â  /* Custom styles for visualization and aesthetics */
Â  Â  Â  Â  .data-bar, .stack-segment {
Â  Â  Â  Â  Â  Â  transition: width 0.8s ease-out;
Â  Â  Â  Â  Â  Â  height: 100%;
Â  Â  Â  Â  }
Â  Â  Â  Â  .table-container {
Â  Â  Â  Â  Â  Â  max-height: 80vh; /* Limit height for responsiveness */
Â  Â  Â  Â  Â  Â  overflow-y: auto;
Â  Â  Â  Â  }
Â  Â  Â  Â  /* Custom icon SVG for the main header */
Â  Â  Â  Â  /* Shield/Cross Icon Size */
Â  Â  Â  Â  .icon-svg {
Â  Â  Â  Â  Â  Â  width: 80px;Â 
Â  Â  Â  Â  Â  Â  height: 80px;
Â  Â  Â  Â  Â  Â  color: #ef4444; /* Red for the cross */
Â  Â  Â  Â  Â  Â  fill: #ffffff; /* White background for the shield */
Â  Â  Â  Â  Â  Â  stroke: none;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  /* Mobile optimization for labels: not strictly necessary for pie charts, but kept for consistency */
Â  Â  Â  Â  @media (max-width: 640px) {
Â  Â  Â  Â  Â  Â  .moh-label {
Â  Â  Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  Â  Â  text-align: left;
Â  Â  Â  Â  Â  Â  Â  Â  margin-bottom: 0.25rem;
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  .viz-item {
Â  Â  Â  Â  Â  Â  Â  Â  flex-direction: column;
Â  Â  Â  Â  Â  Â  Â  Â  align-items: flex-start;
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }
Â  Â  </style>
</head>
<body class="bg-background-light font-sans p-4 sm:p-6 lg:p-10">

Â  Â  <div id="app" class="max-w-7xl mx-auto space-y-12">

Â  Â  Â  Â  <header class="text-center">
Â  Â  Â  Â  Â  Â  <div class="bg-primary shadow-2xl rounded-xl p-6 sm:p-10 text-white transform hover:scale-[1.01] transition duration-300">
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  <h1 class="text-4xl sm:text-5xl font-extrabold tracking-tight mb-2 text-white">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Trincomalee District Disaster Response Dashboard
Â  Â  Â  Â  Â  Â  Â  Â  </h1>
Â  Â  Â  Â  Â  Â  Â  Â  <p class="text-xl sm:text-2xl font-semibold opacity-90 text-accent">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Real-time status of welfare camps
Â  Â  Â  Â  Â  Â  Â  Â  </p>

Â  Â  Â  Â  Â  Â  Â  Â  <div class="mt-4 pt-4 border-t border-white border-opacity-30">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p class="text-sm sm:text-lg font-medium text-white">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Health Information Management Unit | Office of Regional Director of Health Services (RDHS)
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p class="text-lg font-light text-secondary bg-white inline-block px-3 py-1 rounded-full mt-1">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Trincomalee
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </p>
Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  <div class="mt-6 flex justify-center">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div id="data-date" class="inline-flex items-center text-sm sm:text-lg font-bold bg-white text-primary rounded-full px-6 py-3 shadow-2xl border-2 border-accent transform hover:scale-[1.05] transition duration-300 cursor-pointer">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <svg class="w-5 h-5 mr-3 fill-current" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 12h-2v2h2v-2zm-4 0h-2v2h2v-2zm-4 0H7v2h2v-2zm-3-7h14a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V7a2 2 0 0 1 2-2zm14 2H4v3h14V7z"/></svg>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Data Last Updated: **December 4th, 2025 12:00 PM**
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </header>

Â  Â  Â  Â  <section class="space-y-6">
Â  Â  Â  Â  Â  Â  <h2 class="text-3xl font-bold text-gray-800 border-b-2 border-primary pb-2 flex items-center">
Â  Â  Â  Â  Â  Â  Â  Â  <span class="mr-2">ğŸ“Š</span> Situation Overview
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </h2>
Â  Â  Â  Â  Â  Â  <p class="text-gray-600 text-lg">
Â  Â  Â  Â  Â  Â  Â  Â  This dashboard provides a concise summary of the welfare camp status across the Trincomalee District, based on data received from various Medical Officer of Health (MOH) areas on December 4th, 2025.
Â  Â  Â  Â  Â  Â  </p>

Â  Â  Â  Â  Â  Â  <div id="kpi-cards" class="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-6">
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </section>

Â  Â  Â  Â  <section class="space-y-6">
Â  Â  Â  Â  Â  Â  <h2 class="text-3xl font-bold text-gray-800 border-b-2 border-primary pb-2 flex items-center">
Â  Â  Â  Â  Â  Â  Â  Â  <span class="mr-2">ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦</span> Affected Population (People) Distribution
Â  Â  Â  Â  Â  Â  </h2>
Â  Â  Â  Â  Â  Â  <div id="moh-people-visualization" class="bg-white p-6 rounded-xl shadow-lg border border-gray-100">
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </section>
Â  Â  Â  Â Â 
Â  Â  Â  Â  <section class="space-y-6">
Â  Â  Â  Â  Â  Â  <h2 class="text-3xl font-bold text-gray-800 border-b-2 border-accent pb-2 flex items-center">
Â  Â  Â  Â  Â  Â  Â  Â  <span class="mr-2">ğŸš»</span> Gender Breakdown
Â  Â  Â  Â  Â  Â  </h2>
Â  Â  Â  Â  Â  Â  <div id="gender-distribution" class="bg-white p-6 rounded-xl shadow-lg border border-gray-100">
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </section>

Â  Â  Â  Â  <section class="space-y-6">
Â  Â  Â  Â  Â  Â  <h2 class="text-3xl font-bold text-gray-800 border-b-2 border-secondary pb-2 flex items-center">
Â  Â  Â  Â  Â  Â  Â  Â  <span class="mr-2">ğŸš¨</span> Vulnerable Population Distribution by MOH Area
Â  Â  Â  Â  Â  Â  </h2>
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  <p class="text-gray-600 text-lg font-semibold">Distribution of each vulnerable group across the Medical Officer of Health (MOH) areas.</p>

Â  Â  Â  Â  Â  Â  <div id="vulnerable-pie-charts" class="grid grid-cols-1 lg:grid-cols-3 gap-6">
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  <div class="bg-white p-6 rounded-xl shadow-lg border border-gray-100">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h3 class="text-xl font-bold text-gray-800 mb-4 border-b pb-2 text-vulnerable-infants">ğŸ‘¶ Infants (< 1 year) Distribution</h3>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div id="vulnerable-infants-chart"></div>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  <div class="bg-white p-6 rounded-xl shadow-lg border border-gray-100">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h3 class="text-xl font-bold text-gray-800 mb-4 border-b pb-2 text-vulnerable-under5">ğŸ§’ Children Under 5 Distribution</h3>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div id="vulnerable-under5-chart"></div>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  <div class="bg-white p-6 rounded-xl shadow-lg border border-gray-100">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h3 class="text-xl font-bold text-gray-800 mb-4 border-b pb-2 text-vulnerable-pregnant">ğŸ¤° Pregnant Mothers Distribution</h3>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div id="vulnerable-pregnant-chart"></div>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </section>

Â  Â  Â  Â  <section class="space-y-6">
Â  Â  Â  Â  Â  Â  <h2 class="text-3xl font-bold text-gray-800 border-b-2 border-gray-400 pb-2 flex items-center">
Â  Â  Â  Â  Â  Â  Â  Â  <span class="mr-2">ğŸ“‹</span> Detailed Welfare Camp Data
Â  Â  Â  Â  Â  Â  </h2>
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  <div class="table-container bg-white rounded-xl shadow-2xl">
Â  Â  Â  Â  Â  Â  Â  Â  <table class="min-w-full divide-y divide-gray-200">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <thead class="sticky top-0 bg-primary text-white shadow-md">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <tr>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <th class="px-3 py-3 text-left text-sm font-semibold uppercase tracking-wider rounded-tl-xl">MOH Area</th>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <th class="px-3 py-3 text-right text-sm font-semibold uppercase tracking-wider">Families</th>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <th class="px-3 py-3 text-right text-sm font-semibold uppercase tracking-wider">People</th>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <th class="px-3 py-3 text-right text-sm font-semibold uppercase tracking-wider hidden sm:table-cell">Male</th>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <th class="px-3 py-3 text-right text-sm font-semibold uppercase tracking-wider hidden sm:table-cell">Female</th>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <th class="px-3 py-3 text-right text-sm font-semibold uppercase tracking-wider bg-vulnerable-infants/80">Infants</th>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <th class="px-3 py-3 text-right text-sm font-semibold uppercase tracking-wider bg-vulnerable-under5/80">Under 5</th>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <th class="px-3 py-3 text-right text-sm font-semibold uppercase tracking-wider bg-vulnerable-pregnant/80 rounded-tr-xl">Pregnant Mothers</th>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </tr>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </thead>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <tbody id="data-table-body" class="bg-white divide-y divide-gray-100">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </tbody>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <tfoot id="data-table-footer">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </tfoot>
Â  Â  Â  Â  Â  Â  Â  Â  </table>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </section>

Â  Â  Â  Â  <section class="mt-12 p-6 bg-red-100 rounded-xl border-4 border-red-500 shadow-2xl transform hover:scale-[1.01] transition duration-300">
Â  Â  Â  Â  Â  Â  <div class="flex items-center justify-center mb-3">
Â  Â  Â  Â  Â  Â  Â  Â  <svg class="w-8 h-8 text-red-600 mr-3" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"></path><line x1="12" y1="9" x2="12" y2="13"></line><line x1="12" y1="17" x2="12.01" y2="17"></line></svg>
Â  Â  Â  Â  Â  Â  Â  Â  <h3 class="text-2xl font-extrabold text-red-700 tracking-wide">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  OFFICIAL DATA CONFIRMATION REQUIRED
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </h3>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  <p class="text-xl text-red-800 text-center mb-5 font-semibold italic border-y border-red-300 py-3">
Â  Â  Â  Â  Â  Â  Â  Â  This dashboard is a **temporary field tool** to help health workers quickly understand the ground situation.
Â  Â  Â  Â  Â  Â  </p>
Â  Â  Â  Â  Â  Â  <p class="text-base text-gray-800 text-center">
Â  Â  Â  Â  Â  Â  Â  Â  For **official use or distribution**, you must obtain formal confirmation from the **RDHS office** via the contact details below.
Â  Â  Â  Â  Â  Â  </p>
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  <div class="mt-5 pt-3 border-t border-red-300 text-sm text-center">
Â  Â  Â  Â  Â  Â  Â  Â  <p class="font-bold text-lg text-primary">Health Information Management Unit</p>
Â  Â  Â  Â  Â  Â  Â  Â  <p class="text-gray-700">Regional Director of Health Services, 120 Court Rd, Trincomalee</p>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="flex flex-wrap items-center justify-center space-x-4 mt-2 font-bold text-gray-800">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span>ğŸ“ 026 2222263</span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span>| ğŸ“  026 2220854</span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span>| âœ‰ï¸ trincomoinfo@gmail.com</span>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </section>


Â  Â  Â  Â  <footer class="text-center text-sm text-gray-500 pt-6">
Â  Â  Â  Â  Â  Â  <p>&copy; 2025 Trincomalee RDHS Health Information Management Unit. All Rights Reserved.</p>
Â  Â  Â  Â  </footer>

Â  Â  </div>

Â  Â  <script>
Â  Â  Â  Â  // NEW DATA SOURCE - Updated 04.12.2025 12pm
Â  Â  Â  Â  const disasterData = [
Â  Â  Â  Â  Â  Â  { moh: "Echilampathu", families: 620, people: 1795, male: 518, female: 555, infants: 0, under5: 25, pregnant: 27 },
Â  Â  Â  Â  Â  Â  { moh: "Gomarankadawela", families: 10, people: 0, male: 0, female: 0, infants: 0, under5: 0, pregnant: 0 },
Â  Â  Â  Â  Â  Â  { moh: "Kanthale", families: 139, people: 448, male: 218, female: 230, infants: 2, under5: 30, pregnant: 2 },
Â  Â  Â  Â  Â  Â  { moh: "Kinniya", families: 398, people: 1168, male: 609, female: 618, infants: 21, under5: 114, pregnant: 11 },
Â  Â  Â  Â  Â  Â  { moh: "Kuchaveli", families: 2, people: 10, male: 5, female: 5, infants: 0, under5: 2, pregnant: 0 },
Â  Â  Â  Â  Â  Â  { moh: "Kurunjakerni", families: 299, people: 1048, male: 277, female: 278, infants: 6, under5: 35, pregnant: 5 },
Â  Â  Â  Â  Â  Â  { moh: "Muthur", families: 3046, people: 9348, male: 3209, female: 3283, infants: 12, under5: 743, pregnant: 52 },
Â  Â  Â  Â  Â  Â  { moh: "Padavisripura", families: 58, people: 122, male: 0, female: 0, infants: 0, under5: 0, pregnant: 0 },
Â  Â  Â  Â  Â  Â  { moh: "Seruwila", families: 1029, people: 2920, male: 1347, female: 1573, infants: 20, under5: 169, pregnant: 7 },
Â  Â  Â  Â  Â  Â  { moh: "Thambalagamam", families: 0, people: 0, male: 0, female: 0, infants: 0, under5: 0, pregnant: 0 },
Â  Â  Â  Â  Â  Â  { moh: "Trincomalee", families: 5, people: 5, male: 0, female: 0, infants: 0, under5: 0, pregnant: 0 },
Â  Â  Â  Â  Â  Â  { moh: "Uppuveli", families: 5, people: 26, male: 10, female: 14, infants: 0, under5: 0, pregnant: 0 }
Â  Â  Â  Â  ];
        // Added 'deaths' and 'missing' fields to all objects to match the logic in the rest of the script (defaults to 0 as no data was provided for these)
        disasterData.forEach(d => {
            if (d.deaths === undefined) d.deaths = 0;
            if (d.missing === undefined) d.missing = 0;
        });

Â  Â  Â  Â  // Custom color palette for pie charts
Â  Â  Â  Â  const PIE_COLORS = [
Â  Â  Â  Â  Â  Â  '#ef4444', // Red (Muthur - largest)
Â  Â  Â  Â  Â  Â  '#3b82f6', // Blue
Â  Â  Â  Â  Â  Â  '#10b981', // Emerald
Â  Â  Â  Â  Â  Â  '#f97316', // Orange
Â  Â  Â  Â  Â  Â  '#6366f1', // Indigo
Â  Â  Â  Â  Â  Â  '#4b5563' // Gray-600 (for 'Other MOH Areas')
Â  Â  Â  Â  ];
Â  Â  Â  Â  const GENDER_COLORS = {
Â  Â  Â  Â  Â  Â  male: '#3b82f6', // Blue for Male
Â  Â  Â  Â  Â  Â  female: '#ec4899' // Pink for Female
Â  Â  Â  Â  };
Â  Â  Â  Â  const TOP_N_SLICES = 5;

Â  Â  Â  Â  // 1. Calculate Totals
Â  Â  Â  Â  const totals = disasterData.reduce((acc, curr) => {
Â  Â  Â  Â  Â  Â  acc.families += curr.families;
Â  Â  Â  Â  Â  Â  acc.people += curr.people;
Â  Â  Â  Â  Â  Â  acc.male += curr.male;
Â  Â  Â  Â  Â  Â  acc.female += curr.female;
Â  Â  Â  Â  Â  Â  acc.infants += curr.infants;
Â  Â  Â  Â  Â  Â  acc.under5 += curr.under5;
Â  Â  Â  Â  Â  Â  acc.pregnant += curr.pregnant;
Â  Â  Â  Â  Â  Â  acc.deaths += curr.deaths;
Â  Â  Â  Â  Â  Â  acc.missing += curr.missing;
Â  Â  Â  Â  Â  Â  return acc;
Â  Â  Â  Â  }, { families: 0, people: 0, male: 0, female: 0, infants: 0, under5: 0, pregnant: 0, deaths: 0, missing: 0 });


Â  Â  Â  Â  // === VISUALIZATION FUNCTIONS ===

Â  Â  Â  Â  // Helper function for rendering a Pie Chart using SVG (Used for MOH Distribution for People, Gender, and now Vulnerable groups)
Â  Â  Â  Â  const renderPieChart = (containerId, dataKey, chartTitle) => {
Â  Â  Â  Â  Â  Â  const container = document.getElementById(containerId);
Â  Â  Â  Â  Â  Â  container.innerHTML = '';
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  // 1. Prepare and Aggregate Data
Â  Â  Â  Â  Â  Â  const data = disasterData.map(d => ({
Â  Â  Â  Â  Â  Â  Â  Â  moh: d.moh,
Â  Â  Â  Â  Â  Â  Â  Â  value: d[dataKey]
Â  Â  Â  Â  Â  Â  })).filter(d => d.value > 0)
Â  Â  Â  Â  Â  Â  Â  .sort((a, b) => b.value - a.value); // Sort descending

Â  Â  Â  Â  Â  Â  if (data.length === 0) {
Â  Â  Â  Â  Â  Â  Â  Â  container.innerHTML = `<p class="text-center w-full text-gray-500">No data available for ${chartTitle}.</p>`;
Â  Â  Â  Â  Â  Â  Â  Â  return;
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  const totalValue = data.reduce((sum, d) => sum + d.value, 0);
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  // Grouping: Take top N and combine the rest into 'Other'
Â  Â  Â  Â  Â  Â  let slices = data.slice(0, TOP_N_SLICES);
Â  Â  Â  Â  Â  Â  const otherSlices = data.slice(TOP_N_SLICES);

Â  Â  Â  Â  Â  Â  if (otherSlices.length > 0) {
Â  Â  Â  Â  Â  Â  Â  Â  const otherValue = otherSlices.reduce((sum, d) => sum + d.value, 0);
Â  Â  Â  Â  Â  Â  Â  Â  slices.push({ moh: "Other MOH Areas", value: otherValue });
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  // 2. Generate Pie Slices (SVG)
Â  Â  Â  Â  Â  Â  const svgSize = 300;
Â  Â  Â  Â  Â  Â  const radius = svgSize / 2 - 10; // Minus 10 for padding
Â  Â  Â  Â  Â  Â  const center = svgSize / 2;
Â  Â  Â  Â  Â  Â  let startAngle = 0;
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  // SVG and Labels Container Setup
Â  Â  Â  Â  Â  Â  const chartArea = document.createElement('div');
Â  Â  Â  Â  Â  Â  // Use flex-col on mobile and flex-row on desktop for responsive layout
Â  Â  Â  Â  Â  Â  chartArea.className = "flex flex-col lg:flex-row items-center justify-center p-2 space-y-4 lg:space-y-0 lg:space-x-12";
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  const svg = document.createElementNS("http://www.w3.org/2000/svg", "svg");
Â  Â  Â  Â  Â  Â  svg.setAttribute("width", svgSize);
Â  Â  Â  Â  Â  Â  svg.setAttribute("height", svgSize);
Â  Â  Â  Â  Â  Â  svg.setAttribute("viewBox", `0 0 ${svgSize} ${svgSize}`);
Â  Â  Â  Â  Â  Â  svg.className = "flex-shrink-0 shadow-xl rounded-full border border-gray-200";

Â  Â  Â  Â  Â  Â  const labelContainer = document.createElement('div');
Â  Â  Â  Â  Â  Â  // Adjusted container for better display in the 3-column grid
Â  Â  Â  Â  Â  Â  labelContainer.className = "flex flex-col space-y-2 text-sm max-w-full w-full lg:w-auto mt-4 lg:mt-0";Â 
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  slices.forEach((slice, index) => {
Â  Â  Â  Â  Â  Â  Â  Â  const percentage = (slice.value / totalValue);
Â  Â  Â  Â  Â  Â  Â  Â  const angle = percentage * 360;
Â  Â  Â  Â  Â  Â  Â  Â  const endAngle = startAngle + angle;
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  // Skip if slice is too small to draw (less than 0.5 degree)
Â  Â  Â  Â  Â  Â  Â  Â  if (angle < 0.5) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  startAngle = endAngle;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  return;
Â  Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  Â  Â  // Function to convert polar to cartesian coordinates
Â  Â  Â  Â  Â  Â  Â  Â  const getCoords = (angle) => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const radians = (angle - 90) * (Math.PI / 180);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  return [
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  center + (radius * Math.cos(radians)),
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  center + (radius * Math.sin(radians))
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ];
Â  Â  Â  Â  Â  Â  Â  Â  };
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  const [x1, y1] = getCoords(startAngle);
Â  Â  Â  Â  Â  Â  Â  Â  const [x2, y2] = getCoords(endAngle);

Â  Â  Â  Â  Â  Â  Â  Â  const largeArcFlag = angle > 180 ? 1 : 0;
Â  Â  Â  Â  Â  Â  Â  Â  const color = PIE_COLORS[index % PIE_COLORS.length];
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  // Define the SVG path (slice)
Â  Â  Â  Â  Â  Â  Â  Â  const path = document.createElementNS("http://www.w3.org/2000/svg", "path");
Â  Â  Â  Â  Â  Â  Â  Â  path.setAttribute("d", `M ${center},${center} L ${x1},${y1} A ${radius},${radius} 0 ${largeArcFlag},1 ${x2},${y2} Z`);
Â  Â  Â  Â  Â  Â  Â  Â  path.setAttribute("fill", color);
Â  Â  Â  Â  Â  Â  Â  Â  path.setAttribute("stroke", "white");
Â  Â  Â  Â  Â  Â  Â  Â  path.setAttribute("stroke-width", "1");
Â  Â  Â  Â  Â  Â  Â  Â  path.setAttribute("title", `${slice.moh}: ${slice.value.toLocaleString()} (${(percentage * 100).toFixed(1)}%)`);
Â  Â  Â  Â  Â  Â  Â  Â  path.style.transition = 'transform 0.3s';
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  // Add hover effect to slightly pull the slice out
Â  Â  Â  Â  Â  Â  Â  Â  path.addEventListener('mouseenter', () => path.style.transform = 'scale(1.03)');
Â  Â  Â  Â  Â  Â  Â  Â  path.addEventListener('mouseleave', () => path.style.transform = 'scale(1)');
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  svg.appendChild(path);
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  // 3. Generate Labels
Â  Â  Â  Â  Â  Â  Â  Â  const percentageText = `${(percentage * 100).toFixed(1)}%`;
Â  Â  Â  Â  Â  Â  Â  Â  const labelText = `${slice.moh}: **${slice.value.toLocaleString()}** (${percentageText})`;
Â  Â  Â  Â  Â  Â  Â  Â  const labelHtml = `
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="flex items-center p-2 rounded-lg transition duration-150 hover:bg-gray-100/50" title="${slice.moh}">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span class="w-4 h-4 rounded-full mr-3 flex-shrink-0 shadow-sm" style="background-color: ${color};"></span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span class="text-gray-800 font-medium">${labelText}</span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  `;
Â  Â  Â  Â  Â  Â  Â  Â  labelContainer.innerHTML += labelHtml;

Â  Â  Â  Â  Â  Â  Â  Â  startAngle = endAngle;
Â  Â  Â  Â  Â  Â  });

Â  Â  Â  Â  Â  Â  chartArea.appendChild(svg);
Â  Â  Â  Â  Â  Â  chartArea.appendChild(labelContainer);
Â  Â  Â  Â  Â  Â  container.appendChild(chartArea);

Â  Â  Â  Â  Â  Â  // Add a note about the grouping
Â  Â  Â  Â  Â  Â  if (otherSlices.length > 0) {
Â  Â  Â  Â  Â  Â  Â  Â  const note = document.createElement('p');
Â  Â  Â  Â  Â  Â  Â  Â  note.className = "text-center text-xs text-gray-500 mt-4 px-4 w-full";
Â  Â  Â  Â  Â  Â  Â  Â  note.innerHTML = `Note: Smaller areas (constituting ${otherSlices.length} MOHs) are combined into 'Other MOH Areas' for a clearer visual distribution.`;
Â  Â  Â  Â  Â  Â  Â  Â  container.appendChild(note);
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  };

Â  Â  Â  Â  // Function for a simple Male vs. Female Pie Chart (from the total population)
Â  Â  Â  Â  const renderGenderPieChart = (containerId) => {
Â  Â  Â  Â  Â  Â  const container = document.getElementById(containerId);
Â  Â  Â  Â  Â  Â  container.innerHTML = '';
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  // Prepare data (simplified to just two slices)
Â  Â  Â  Â  Â  Â  const data = [
Â  Â  Â  Â  Â  Â  Â  Â  { label: "Male Affected", key: 'male', value: totals.male, color: GENDER_COLORS.male, icon: 'â™‚ï¸' },
Â  Â  Â  Â  Â  Â  Â  Â  { label: "Female Affected", key: 'female', value: totals.female, color: GENDER_COLORS.female, icon: 'â™€ï¸' }
Â  Â  Â  Â  Â  Â  ].filter(d => d.value > 0);

Â  Â  Â  Â  Â  Â  if (data.length === 0) {
Â  Â  Â  Â  Â  Â  Â  Â  container.innerHTML = `<p class="text-center w-full text-gray-500">No gender data reported.</p>`;
Â  Â  Â  Â  Â  Â  Â  Â  return;
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  const totalValue = data.reduce((sum, d) => sum + d.value, 0);

Â  Â  Â  Â  Â  Â  // SVG and Labels Container Setup
Â  Â  Â  Â  Â  Â  const chartArea = document.createElement('div');
Â  Â  Â  Â  Â  Â  chartArea.className = "flex flex-col md:flex-row items-center justify-center p-2 space-y-4 md:space-y-0 md:space-x-12";
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  const svgSize = 300;
Â  Â  Â  Â  Â  Â  const radius = svgSize / 2 - 10;
Â  Â  Â  Â  Â  Â  const center = svgSize / 2;
Â  Â  Â  Â  Â  Â  let startAngle = 0;

Â  Â  Â  Â  Â  Â  const svg = document.createElementNS("http://www.w3.org/2000/svg", "svg");
Â  Â  Â  Â  Â  Â  svg.setAttribute("width", svgSize);
Â  Â  Â  Â  Â  Â  svg.setAttribute("height", svgSize);
Â  Â  Â  Â  Â  Â  svg.setAttribute("viewBox", `0 0 ${svgSize} ${svgSize}`);
Â  Â  Â  Â  Â  Â  svg.className = "flex-shrink-0 shadow-xl rounded-full border border-gray-200";

Â  Â  Â  Â  Â  Â  const labelContainer = document.createElement('div');
Â  Â  Â  Â  Â  Â  labelContainer.className = "flex flex-col space-y-2 text-base max-w-full md:max-w-sm w-full md:w-auto";
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  data.forEach((slice, index) => {
Â  Â  Â  Â  Â  Â  Â  Â  const percentage = (slice.value / totalValue);
Â  Â  Â  Â  Â  Â  Â  Â  const angle = percentage * 360;
Â  Â  Â  Â  Â  Â  Â  Â  const endAngle = startAngle + angle;
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  // Skip if slice is too small
Â  Â  Â  Â  Â  Â  Â  Â  if (angle < 0.5) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  startAngle = endAngle;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  return;
Â  Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  Â  Â  const getCoords = (angle) => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const radians = (angle - 90) * (Math.PI / 180);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  return [
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  center + (radius * Math.cos(radians)),
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  center + (radius * Math.sin(radians))
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ];
Â  Â  Â  Â  Â  Â  Â  Â  };
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  const [x1, y1] = getCoords(startAngle);
Â  Â  Â  Â  Â  Â  Â  Â  const [x2, y2] = getCoords(endAngle);

Â  Â  Â  Â  Â  Â  Â  Â  const largeArcFlag = angle > 180 ? 1 : 0;
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  // Define the SVG path (slice)
Â  Â  Â  Â  Â  Â  Â  Â  const path = document.createElementNS("http://www.w3.org/2000/svg", "path");
Â  Â  Â  Â  Â  Â  Â  Â  path.setAttribute("d", `M ${center},${center} L ${x1},${y1} A ${radius},${radius} 0 ${largeArcFlag},1 ${x2},${y2} Z`);
Â  Â  Â  Â  Â  Â  Â  Â  path.setAttribute("fill", slice.color);
Â  Â  Â  Â  Â  Â  Â  Â  path.setAttribute("stroke", "white");
Â  Â  Â  Â  Â  Â  Â  Â  path.setAttribute("stroke-width", "1");
Â  Â  Â  Â  Â  Â  Â  Â  path.setAttribute("title", `${slice.label}: ${slice.value.toLocaleString()} (${(percentage * 100).toFixed(1)}%)`);
Â  Â  Â  Â  Â  Â  Â  Â  path.style.transition = 'transform 0.3s';
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  path.addEventListener('mouseenter', () => path.style.transform = 'scale(1.03)');
Â  Â  Â  Â  Â  Â  Â  Â  path.addEventListener('mouseleave', () => path.style.transform = 'scale(1)');
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  svg.appendChild(path);
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  // Generate Labels
Â  Â  Â  Â  Â  Â  Â  Â  const percentageText = `${(percentage * 100).toFixed(1)}%`;
Â  Â  Â  Â  Â  Â  Â  Â  const labelText = `${slice.icon} **${slice.label.replace(' Affected', '')}:** ${slice.value.toLocaleString()} (${percentageText})`;
Â  Â  Â  Â  Â  Â  Â  Â  const labelHtml = `
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="flex items-center p-2 rounded-lg transition duration-150 hover:bg-gray-100/50" title="${slice.label}">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span class="w-4 h-4 rounded-full mr-3 flex-shrink-0 shadow-sm" style="background-color: ${slice.color};"></span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span class="text-gray-800 font-medium">${labelText}</span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  `;
Â  Â  Â  Â  Â  Â  Â  Â  labelContainer.innerHTML += labelHtml;

Â  Â  Â  Â  Â  Â  Â  Â  startAngle = endAngle;
Â  Â  Â  Â  Â  Â  });

Â  Â  Â  Â  Â  Â  chartArea.appendChild(svg);
Â  Â  Â  Â  Â  Â  chartArea.appendChild(labelContainer);
Â  Â  Â  Â  Â  Â  container.appendChild(chartArea);
Â  Â  Â  Â  };
Â  Â  Â  Â Â 
Â  Â  Â  Â  // Removed: renderVulnerableGroupsVisualization function (stacked bar chart is obsolete)


Â  Â  Â  Â  // === RENDER ALL ELEMENTS ON LOAD ===
Â  Â  Â  Â Â 
Â  Â  Â  Â  // 2. Render KPI Cards
Â  Â  Â  Â  const kpiMetrics = [
Â  Â  Â  Â  Â  Â  { label: "Total Affected People", value: totals.people, icon: "ğŸ‘¤", color: "bg-secondary", text: "text-white" },
Â  Â  Â  Â  Â  Â  { label: "Total Families", value: totals.families, icon: "ğŸ ", color: "bg-accent", text: "text-gray-800" },
Â  Â  Â  Â  Â  Â  { label: "Vulnerable: Infants", value: totals.infants, icon: "ğŸ‘¶", color: "bg-vulnerable-infants", text: "text-white" },
Â  Â  Â  Â  Â  Â  { label: "Vulnerable: Under 5", value: totals.under5, icon: "ğŸ§’", color: "bg-vulnerable-under5", text: "text-white" },
Â  Â  Â  Â  Â  Â  { label: "Vulnerable: Pregnant Mothers", value: totals.pregnant, icon: "ğŸ¤°", color: "bg-vulnerable-pregnant", text: "text-white" },
Â  Â  Â  Â  ];
Â  Â  Â  Â Â 
Â  Â  Â  Â  const kpiContainer = document.getElementById('kpi-cards');
Â  Â  Â  Â  kpiMetrics.forEach(metric => {
Â  Â  Â  Â  Â  Â  const card = `
Â  Â  Â  Â  Â  Â  Â  Â  <div class="${metric.color} ${metric.text} p-4 rounded-xl shadow-lg border border-gray-100 transform hover:shadow-xl transition duration-200">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="text-4xl mb-2">${metric.icon}</div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p class="text-xs font-semibold uppercase opacity-80">${metric.label}</p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p class="text-3xl font-extrabold mt-1">${metric.value.toLocaleString()}</p>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  `;
Â  Â  Â  Â  Â  Â  kpiContainer.innerHTML += card;
Â  Â  Â  Â  });

Â  Â  Â  Â  // 3. Render all MOH Visualizations
Â  Â  Â  Â  renderPieChart('moh-people-visualization', 'people', 'Affected Population (People)');
Â  Â  Â  Â  renderGenderPieChart('gender-distribution');Â 
Â  Â  Â  Â Â 
Â  Â  Â  Â  // NEW: Render three separate vulnerable group pie charts
Â  Â  Â  Â  renderPieChart('vulnerable-infants-chart', 'infants', 'Infants');
Â  Â  Â  Â  renderPieChart('vulnerable-under5-chart', 'under5', 'Children Under 5');
Â  Â  Â  Â  renderPieChart('vulnerable-pregnant-chart', 'pregnant', 'Pregnant Mothers');


Â  Â  Â  Â  // 4. Render Detailed Data Table
Â  Â  Â  Â  const tableBody = document.getElementById('data-table-body');
Â  Â  Â  Â  tableBody.innerHTML = ''; // Clear existing content
Â  Â  Â  Â  disasterData.forEach((item, index) => {
Â  Â  Â  Â  Â  Â  const rowClass = item.people > 0 ? (index % 2 === 0 ? 'bg-white hover:bg-gray-50' : 'bg-gray-50 hover:bg-gray-100') : 'bg-red-50/50 hover:bg-red-100'; // Highlight zero-population areas slightly
Â  Â  Â  Â  Â  Â  const rowHtml = `
Â  Â  Â  Â  Â  Â  Â  Â  <tr class="${rowClass} transition duration-150 ease-in-out">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <td class="px-3 py-3 whitespace-nowrap text-sm font-medium text-gray-900">${item.moh}</td>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <td class="px-3 py-3 whitespace-nowrap text-sm text-right font-semibold text-accent">${item.families.toLocaleString()}</td>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <td class="px-3 py-3 whitespace-nowrap text-sm text-right font-extrabold text-secondary">${item.people.toLocaleString()}</td>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <td class="px-3 py-3 whitespace-nowrap text-sm text-right hidden sm:table-cell">${item.male.toLocaleString()}</td>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <td class="px-3 py-3 whitespace-nowrap text-sm text-right hidden sm:table-cell">${item.female.toLocaleString()}</td>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <td class="px-3 py-3 whitespace-nowrap text-sm text-right font-medium bg-vulnerable-infants/10 text-vulnerable-infants">${item.infants.toLocaleString()}</td>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <td class="px-3 py-3 whitespace-nowrap text-sm text-right font-medium bg-vulnerable-under5/10 text-vulnerable-under5">${item.under5.toLocaleString()}</td>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <td class="px-3 py-3 whitespace-nowrap text-sm text-right font-medium bg-vulnerable-pregnant/10 text-vulnerable-pregnant">${item.pregnant.toLocaleString()}</td>
Â  Â  Â  Â  Â  Â  Â  Â  </tr>
Â  Â  Â  Â  Â  Â  `;
Â  Â  Â  Â  Â  Â  tableBody.innerHTML += rowHtml;
Â  Â  Â  Â  });

Â  Â  Â  Â  // Render Table Footer (Totals)
Â  Â  Â  Â  const tableFooter = document.getElementById('data-table-footer');
Â  Â  Â  Â  tableFooter.innerHTML = ''; // Clear existing content
Â  Â  Â  Â  const footerHtml = `
Â  Â  Â  Â  Â  Â  <tr class="bg-gray-800 text-white font-bold text-base sticky bottom-0">
Â  Â  Â  Â  Â  Â  Â  Â  <td class="px-3 py-3 whitespace-nowrap rounded-bl-xl">TOTALS</td>
Â  Â  Â  Â  Â  Â  Â  Â  <td class="px-3 py-3 text-right">${totals.families.toLocaleString()}</td>
Â  Â  Â  Â  Â  Â  Â  Â  <td class="px-3 py-3 text-right">${totals.people.toLocaleString()}</td>
Â  Â  Â  Â  Â  Â  Â  Â  <td class="px-3 py-3 text-right hidden sm:table-cell">${totals.male.toLocaleString()}</td>
Â  Â  Â  Â  Â  Â  Â  Â  <td class="px-3 py-3 text-right hidden sm:table-cell">${totals.female.toLocaleString()}</td>
Â  Â  Â  Â  Â  Â  Â  Â  <td class="px-3 py-3 text-right bg-vulnerable-infants/90">${totals.infants.toLocaleString()}</td>
Â  Â  Â  Â  Â  Â  Â  Â  <td class="px-3 py-3 text-right bg-vulnerable-under5/90">${totals.under5.toLocaleString()}</td>
Â  Â  Â  Â  Â  Â  Â  Â  <td class="px-3 py-3 text-right bg-vulnerable-pregnant/90 rounded-br-xl">${totals.pregnant.toLocaleString()}</td>
Â  Â  Â  Â  Â  Â  </tr>
Â  Â  Â  Â  `;
Â  Â  Â  Â  tableFooter.innerHTML += footerHtml;

Â  Â  </script>
</body>
</html>
